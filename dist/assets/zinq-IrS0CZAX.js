document.addEventListener("alpine:init",()=>{window.zinqDiffSlider=function(f,c,t){const o=document.querySelector(f),e=o.querySelector(c),i=o.querySelector(t);let s=!1;function r(){const l=o.getBoundingClientRect().width-4,d=l/2;e.style.left=`${d}px`,i.style.clipPath=`inset(0 ${l-d}px 0 0)`}e.addEventListener("pointerdown",l=>{s=!0,l.preventDefault()}),window.addEventListener("pointermove",l=>{if(!s)return;const d=o.getBoundingClientRect();let h=l.clientX-d.left,n=d.width;n+=4,h=Math.max(0,Math.min(h,n-10)),h<4&&(h=4),i.style.clipPath=`inset(0 ${d.width-h}px 0 0)`,e.style.left=`${h-4}px`}),window.addEventListener("pointerup",()=>{s=!1}),window.addEventListener("load",r)},Alpine.data("tooltipComponent",(f,c)=>({isVisible:!1,text:f,position:c,calculatePosition(){f&&(this.isVisible=!0,this.$nextTick(()=>{const t=this.$el,o=this.$refs.tooltip,e=t.getBoundingClientRect(),i=o.getBoundingClientRect();let s=0,r=0;switch(this.position){case"top":s=e.top-i.height-10,r=e.left+e.width/2-i.width/2;break;case"bottom":s=e.bottom+10,r=e.left+e.width/2-i.width/2;break;case"left":s=e.top+e.height/2-i.height/2,r=e.left-i.width-10;break;case"right":s=e.top+e.height/2-i.height/2,r=e.right+10;break}const l=window.innerWidth,d=window.innerHeight;r+i.width>l&&(r=l-i.width-10),r<0&&(r=10),s+i.height>d&&(s=d-i.height-10),s<0&&(s=10),o.style.top=`${s}px`,o.style.left=`${r}px`}))},hide(){this.isVisible=!1}}))});const w=()=>{document.querySelectorAll("nav.zinq-tabs-nav").forEach(c=>{const t=Array.from(c.querySelectorAll(".zinq-tab")),o=c.querySelector(".zinq-tabs-dropdown"),e=o.getAttribute("data-zinq-dropdown"),i=document.getElementById(e);if(!i)return;i.innerHTML="";const s=c.parentNode.offsetWidth;if(c.offsetWidth>s){let l=30;o.classList.remove("hidden"),t.forEach(d=>{if(l+=d.offsetWidth,l>s){const h=document.createElement("li");h.className="w-full";const n=document.createElement("a");n.className="zinq-dropdown-link",n.textContent=d.textContent,n.addEventListener("click",()=>{event.preventDefault(),d.click()}),i.appendChild(n),d.classList.add("hidden")}else d.classList.remove("hidden")})}else t.forEach(l=>l.classList.remove("hidden")),i.innerHTML="",o.classList.add("hidden")})};w();window.addEventListener("resize",w);u();document.addEventListener("livewire:navigated",()=>{u(),w(),initializeColorPickers()});function u(){document.querySelectorAll(".zinq-dropdown-container").forEach(f=>{v(f)})}function v(f){const c=f.querySelector('[x-ref="trigger"]'),t=f.querySelector('[x-ref="dropdown"]');if(!c||!t)return;let o=!1,e={x:"left",y:"bottom"};document.body.appendChild(t),t.removeAttribute("x-cloak"),t.style.display="none",t.style.position="absolute",l(!0),d(),c.addEventListener("click",s),document.addEventListener("click",n=>{o&&!f.contains(n.target)&&!t.contains(n.target)&&r()});const i=t.querySelectorAll("[data-zinq-dropdown-close]");i.length&&i.forEach(n=>{n.addEventListener("click",r)});function s(){o=!o,t.style.display=o?"block":"none",o&&l()}function r(){o=!1,t.style.display="none"}function l(n=!1){n&&(t.style.display="block");const a=c.getBoundingClientRect(),g=t.offsetWidth,p=t.offsetHeight;n&&(t.style.display="none");const y=window.innerHeight-a.bottom>p,m=a.top>p,b=window.innerWidth-a.right-10>g,L=a.left>g;y?(e.y="bottom",t.style.top=`${a.bottom+window.scrollY}px`):m?(e.y="top",t.style.top=`${a.top-p+window.scrollY}px`):(e.y="bottom",t.style.top=`${a.bottom+window.scrollY}px`),b?(e.x="left",t.style.left=`${a.left+window.scrollX}px`,t.style.right="auto"):L?(e.x="right",t.style.left="auto",t.style.right=`${window.innerWidth-a.right-window.scrollX}px`):(t.style.left=`${a.left+window.scrollX}px`,t.style.right="auto"),t.classList.toggle("top-full",e.y==="bottom"),t.classList.toggle("bottom-full",e.y==="top"),t.classList.toggle("left-0",e.x==="left"),t.classList.toggle("right-0",e.x==="right")}function d(){window.addEventListener("resize",()=>{l(),h(c)&&o&&r()})}function h(n){const a=getComputedStyle(n);return a.display==="none"||a.visibility==="hidden"||n.offsetWidth===0&&n.offsetHeight===0||n.classList.contains("hidden")}}
